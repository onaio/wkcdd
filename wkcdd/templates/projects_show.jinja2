{% extends 'base.jinja2' %}
{% from 'macros/value_or_default.jinja2' import value_or_default %}
{% block title %}{{ Projects }} {% endblock %}
{% block page_title %}
  <h3 class="page-title">
    {{ project.name }} {% trans %} Project Indicators {% endtrans %}
    <small></small>
  </h3>
{% endblock %}
{% block breadcrumbs %}
  <li>
      <a href="{{ request.route_url('counties', traverse=()) }}">{% trans %} County Indicators {% endtrans %}</a>
      <i class="icon-angle-right"></i>
  </li>
  <li>
      <a href="{{ request.route_url('counties',traverse=(locations.county.id)) }}">{{ locations.county.name | capitalize }} County</a>
      <i class="icon-angle-right"></i>
  </li>
  <li>
      <a href="{{ request.route_url('sub_county',traverse=(locations.sub_county.id)) }}">{{ locations.sub_county.name | capitalize }} Sub-County</a>
      <i class="icon-angle-right"></i>
  </li>
  <li>
      <a href="{{ request.route_url('constituency',traverse=(locations.constituency.id)) }}">{{ locations.constituency.name | capitalize }} Constituency</a>
      <i class="icon-angle-right"></i>
  </li>
  <li>
      <a href="{{ request.route_url('community',traverse=(locations.community.id)) }}">{{ locations.community.name | capitalize }} Community</a>
      <i class="icon-angle-right"></i>
  </li>
  <li>
      {{ project.name }}
  </li>
{% endblock %}
{% block content %}
<div class="row">
<div class="col-md-12">
    <div class="portlet">
      <div class="portlet-title">
         <div class="caption"><i class="icon-tasks"></i>Performance Indicators</div>
      </div>
      <div class="portlet-body">
        {% if performance_indicator_mapping %}
         <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
               <thead>
                  <tr>
                     <th>{% trans %} Outputs/ Outcomes/Indicators {% endtrans %}</th>
                     <th>{% trans %} Target {% endtrans %}</th>
                     <th>{% trans %} Cumulative achieved {% endtrans %}</th>
                     <th>{% trans %} % achieved {% endtrans %}</th>
                  </tr>
               </thead>
               <tbody>
               {% for indicator in performance_indicator_mapping %}
                <tr>
                  <td>
                    {{ indicator.title }}
                  </td>
                   {% for key in indicator.group %}
                      <td>
                        {{ value_or_default(performance_indicators[key], '-') }}
                      </td>
                   {% endfor %}
                </tr>
                {% endfor %}
               </tbody>
            </table>
         </div>
        {% else %}
          <div> {% trans %} No reports found {% endtrans %}</div>
        {% endif %}
      </div>
    </div>
    <div class="portlet">
      <div class="portlet-title">
         <div class="caption"><i class="icon-tasks"></i>Impact Indicators</div>
      </div>
      <div class="portlet-body">
        {% if performance_indicator_mapping %}
         <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
               <thead>
                  <tr>
                     <th>{% trans %} Outputs/ Outcomes/Impact Indicators {% endtrans %}</th>
                     <th>{% trans %} Amount {% endtrans %}</th>
                  </tr>
               </thead>
               <tbody>
               {% for indicator in impact_indicator_mapping %}
                <tr>
                  <td>
                    {{ indicator.title }}
                  </td>
                    <td>{{ value_or_default(impact_indicators[indicator.key],'-') }}</td>
                </tr>
                {% endfor %}
               </tbody>
            </table>
         </div>
        {% else %}
          <div> {% trans %} No reports found {% endtrans %}</div>
        {% endif %}
      </div>
    </div>
</div>
{{response}}
</div>
{% endblock content %}