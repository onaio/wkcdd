{% macro generate_filter_criteria_dropdowns(filter_criteria, location_map) %}
<div class="row filters">
  <form id="filter_criteria" class="form-inline" method="get">
    <select name="county" class="form-control input-small select2me" data-placeholder="Select..." onchange="LocationSelect.level0ChangeListener(this);">
      <option value="">--All Counties--</option>
      {% for county in filter_criteria["counties"] %}
        <option value="{{ county.id }}"
          {%if location_map["county"] == (county.id | string)%}
              selected
          {%endif%}
          >
            {{ county.pretty }}
          </option>
      {% endfor %}
    </select>
    <select name="sub_county" class="form-control input-small select2me"  data-placeholder="Select..." onchange="LocationSelect.level1ChangeListener(this);">
      <option value="">--All Sub-Counties--</option>
      {% for sub_county in filter_criteria["sub_counties"] %}
        <option value="{{ sub_county.id }}"
          {%if location_map["sub_county"] == (sub_county.id | string)%}
              selected
          {%endif%}
          >
            {{ sub_county.pretty }}
          </option>
      {% endfor %}
    </select>
    <select name="constituency" class="form-control input-small select2me" data-placeholder="Select..." onchange="LocationSelect.level2ChangeListener(this);">
      <option value="">--All Constituencies--</option>
      {% for constituency in filter_criteria["constituencies"] %}
        <option value="{{ constituency.id }}"
          {%if location_map["constituency"] == (constituency.id | string)%}
              selected
          {%endif%}
          >
            {{ constituency.pretty }}
          </option>
      {% endfor %}
    </select>
    <select  name="community" class="form-control input-small select2me" data-placeholder="Select..." onchange="LocationSelect.level3ChangeListener(this);">
      <option value="">--All Communities--</option>
      {% for community in filter_criteria["communities"] %}
        <option value="{{ community.id }}"
          {%if location_map["community"] == (community.id | string)%}
              selected
          {%endif%}
          >
            {{ community.pretty }}
          </option>
      {% endfor %}
    </select>

    <button type="submit" class="filter-btn btn btn-info pull-right"> Go <i class="icon-filter"></i></button>
    <div class="form-group pull-right">
      <label> View by:</label>
      <select  name="view_by" class="form-control input-small" data-placeholder="Select...">
        <option value="">--View All--</option>
        <option value="county">County</option>
        <option value="sub_county">Sub-County</option>
        <option value="constituency">Constituency</option>
        <option value="community">Community</option>
        <option value="project">Project</option>
      </select>
    </div>
  </form>
</div>
{% endmacro %}
